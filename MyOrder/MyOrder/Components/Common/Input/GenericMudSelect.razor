@using MyOrder.Shared.Dtos.SharedComponents
@typeparam T
@inherits GenericInputBase<T>

@if (!hidden)
{
    <MudSelect T="T"
               Typo="Typo.body2"
               Style="margin-inline:0;"
               Class="@Class"
               Label="@Field?.Name"
               Margin="Margin.Dense"
               Dense="true"
               Variant="@Variant"
               FullWidth="true"
               AnchorOrigin="Origin.CenterCenter"
               Required="required"
               ReadOnly="readOnly"
               Disabled="readOnly"
               @bind-Value="BoundValue"
               @bind-Value:after="BoundValueChangedHandler">
        @if (Items is not null)
        {
            foreach (var item in Items)
            {
                <MudSelectItem T="T" Value="@item" />
            }
        }
    </MudSelect>
}

@code {
    [Parameter, EditorRequired] public List<T>? Items { get; set; }
    [Parameter] public Variant Variant { get; set; } = 0;
    [Parameter] public string? Class { get; set; }
}