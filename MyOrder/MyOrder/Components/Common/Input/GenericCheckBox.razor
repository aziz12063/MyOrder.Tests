@using MyOrder.Shared.Dtos.SharedComponents
@inherits GenericInputBase<bool?>

@if (Field is not null && !Hidden)
{
    <MudTooltip RootStyle="width:100%"
                Text="@TooltipText"
                Placement="Placement.Top">
        <MudCheckBox Size="Size"
                     Dense="Dense"
                     Style="display:inline-block;"
                     LabelPosition="LabelPosition.End"
                     Required="Required"
                     Error="Required"
                     ReadOnly="InternalReadOnly"
                     Disabled="InternalReadOnly"
                     @bind-Value="ValueProperty"
                     @bind-Value:after="OnBindValueAfter">
            <ChildContent>
                <MudText Typo="Typo">@Field?.Name</MudText>
            </ChildContent>
        </MudCheckBox>
    </MudTooltip>
}

@code
{
    [Parameter]
    public Typo Typo { get; set; } = Typo.body2;
    [Parameter]
    public Size Size { get; set; } = Size.Small;
    [Parameter]
    public bool Dense { get; set; } = true;

    protected override void OnParametersSet()
    {
        base.OnParametersSet();
        // if (ValueProperty is null)
        // {
        //     ValueProperty = false;
        // }
    }
}