@typeparam T

@if (FieldUtility.IsHidden(Field))
    return;

<MudMenuItem Disabled="!FieldUtility.IsReadWrite(Field)"
             OnClick="OnClick">

    <MudTooltip Text="@Field.Description">

        @* Title="@Field.Description" *@
        <MudIcon Icon="@Icon"
                 Color="_color"
                 Size="Size.Small"
                 Style="vertical-align:bottom;"
                 Class="mr-1" />
        <MudText Typo="Typo.inherit" Color="_color">@Field.Name</MudText>
    </MudTooltip>
</MudMenuItem>

@code {
    [Parameter, EditorRequired]
    public string Icon { get; set; } = Icons.Material.Filled.ArrowRight;

    [Parameter, EditorRequired]
    public Field<T> Field { get; set; }

    [Parameter, EditorRequired]
    public EventCallback OnClickCallback { get; set; }

    private Color _color = Color.Primary;

    protected override void OnParametersSet()
    {
        _color = FieldUtility.GetFieldColor(Field);
    }

    private async Task OnClick()
    {
#warning TODO: Implement confirmation dialog logic
        await OnClickCallback.InvokeAsync();
    }

}
