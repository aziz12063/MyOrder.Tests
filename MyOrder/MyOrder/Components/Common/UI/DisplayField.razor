@using MyOrder.Shared.Dtos.SharedComponents
@typeparam T

@if (Field != null && !FieldUtility.IsHidden(Field))
{
    <MudTooltip RootStyle="width:100%"
                Text="@TooltipText"
                Placement="Placement.Top">

        <MudField Margin="Margin.Dense"
                  Variant="Variant.Outlined"
                  FullWidth="true"
                  InnerPadding="false"
                  Class="@InternalCssClass"
                  Style="@Style"
                  Label="@Field?.Name"
                  Adornment="Adornment"
                  AdornmentIcon="@AdornmentIcon"
                  AdornmentColor="AdornmentColor"
                  AdornmentText="@AdornmentText"
                  IconSize="Size.Small">
            <MudText Typo="Typo.body2">
                @if (Field!.Value is List<string> stringList && stringList is { Count: > 0 })
                {
                    @((MarkupString)string.Join("<br />", stringList))
                }
                else if (IsMarkupString)
                {
                    @FieldUtility.MarkupStringHelper(Field.Value?.ToString())
                }
                else
                {
                    @FieldUtility.FormatValue(Field.Value, Format)
                }
            </MudText>
        </MudField>
    </MudTooltip>
}