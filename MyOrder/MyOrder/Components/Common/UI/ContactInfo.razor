<MudPaper Outlined="true" Class="px-2 py-1 mudcard-details-info-background">
    <MudStack Row="true" StretchItems="StretchItems.Start" Class="px-1">
        <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center">
            <MudIcon Title="Téléphone" Icon="@Icons.Material.Filled.Phone" Color="Color.Success" Size="Size.Small" />
            <MudText Typo="Typo.body2">@FieldValue(Contact?.Phone)</MudText>
        </MudStack>
        <MudTooltip Text="@(_showDetails ? "Masquer les informations" : "Afficher plus d'informations" )">
            <MudIconButton Icon="@(_showDetails ? Icons.Material.Filled.ExpandLess : Icons.Material.Filled.ExpandMore)"
                           Color="Color.Primary"
                           Size="Size.Small"
                           OnClick="@ToggleDetails" />
        </MudTooltip>
    </MudStack>
    <MudCollapse Expanded="@_showDetails">
        <MudDivider Light="true"/>
        <MudGrid Spacing="1" Class="mt-1 px-1">
            <MudItem xs="12" sm="5">
                <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center">
                    <MudIcon Title="Mobile" Icon="@Icons.Material.Filled.PhoneIphone" Color="Color.Info" Size="Size.Small" />
                    <MudText Typo="Typo.body2">@FieldUtility.NullOrWhiteSpaceHelperWithDash(Contact?.CellularPhone)</MudText>
                </MudStack>
            </MudItem>
            <MudItem xs="12" sm="7" Class="pl-4">
                <MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center">
                    <MudIcon Title="Email" Icon="@Icons.Material.Filled.Email" Color="Color.Surface" Size="Size.Small" />
                    <MudText Typo="Typo.body2">@FieldUtility.NullOrWhiteSpaceHelperWithDash(Contact?.Email)</MudText>
                </MudStack>
            </MudItem>
        </MudGrid>
    </MudCollapse>

</MudPaper>
@code {
    [Parameter, EditorRequired]
    public ContactDto? Contact { get; set; }

    private bool _showDetails = false;

    static string? FieldValue(string? s) => FieldUtility.NullOrWhiteSpaceHelperWithDash(s);
    void ToggleDetails() => _showDetails = !_showDetails;
}
