@using MyOrder.Store.TradeInfoUseCase
@inherits BaseFluxorComponent<TradeInfoState, FetchTradeInfoAction>

<MudContainer Class="pa-0">
    <MudStack Spacing="4">
        <MudText Typo="Typo.h6" Color="Color.Secondary">Commercial info</MudText>
        <MudStack Spacing="2">
            <MudText Typo="Typo.body2" Color="Color.Secondary">ChiffreD'Affaire</MudText>
            <MudDataGrid Items="@Turnover" Filterable="false" SortMode="@SortMode.None" Groupable="false">
                <Columns>
                    <PropertyColumn Property="x => x.Name" />
                    <PropertyColumn Property="x => x.Ytd" />
                    <PropertyColumn Property="x => x.YtdN1" />
                    <PropertyColumn Property="x => x.N1" />
                    <PropertyColumn Property="x => x.N2" />
                </Columns>
            </MudDataGrid>
        </MudStack>

        <MudStack Spacing="2">
            <MudText Typo="Typo.body2" Color="Color.Secondary">Contrats en cours</MudText>
            <MudTextField Margin="Margin.None"
                          T="string"
                          Variant="Variant.Outlined" 
                          Style="Width:200px;height: 35px;"
                          Value="@(BasketTradeInfoDto != null &&
                                   BasketTradeInfoDto.Contract != null &&
                                   BasketTradeInfoDto.Contract.ContractId != null &&
                                   BasketTradeInfoDto.Contract.ContractId.Value != null ?
                                   BasketTradeInfoDto.Contract.ContractId.Value : "Aucun contrat en cours")">
            </MudTextField>
        </MudStack>
    </MudStack>
</MudContainer>
