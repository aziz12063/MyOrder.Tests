@using MyOrder.Store.DeliveryInfoUseCase

@inherits FluxorComponentBase<NewDeliveryContactState, FetchNewDeliveryContactAction>

<MudDialog ContentClass="mx-0 mb-0 pt-1 pb-2">
    <TitleContent>
        <MudText Typo="Typo.h5">@State.Value.DeliveryContactDraft?.ContactSectionLabel</MudText>
    </TitleContent>
    <DialogContent>
        @if (!Initialized)
            return;

        <FetchActionTypeCascadingValue FetchActionTypeValue="FetchActionType">
            <MudStack Spacing="1">
                <DisplayField Field="DeliveryContactDraft.Type" />
                <GenericMudSelect Field="DeliveryContactDraft.SocialTitle"
                                  Items="ResourcesState?.Value?.ContactSalutations" />
                <GenericTextField Field="DeliveryContactDraft.FirstName" />
                <GenericTextField Field="DeliveryContactDraft.LastName" />
                <GenericTextField Field="DeliveryContactDraft.DirectPhone" />
                <GenericTextField Field="DeliveryContactDraft.CellularPhone" />
                <GenericTextField Field="DeliveryContactDraft.Email" />
            </MudStack>
        </FetchActionTypeCascadingValue>
    </DialogContent>
    <DialogActions>
        <FieldButton Field="DeliveryContactDraft?.Actions?.AddContact"
                     OnClickCallback=" _ => MudDialog.Close()" />
    </DialogActions>
</MudDialog>
