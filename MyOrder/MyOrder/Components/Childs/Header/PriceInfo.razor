@using MyOrder.Store.PricesInfoUseCase
@inherits MyOrder.Components.Common.BaseFluxorComponent<PricesInfoState, FetchPricesInfoAction>

@if (State.Value.IsLoading)
{
    <PricesAndLinesElementLoadingSkeleton />
    return;
}

<MudText Typo="Typo.h6" Color="Color.Secondary" Class="pa-3">Totaux et prix</MudText>

<MudGrid Class="pa-4" Justify="Justify.SpaceBetween">
    <!--Column1-->
    <MudItem xs="3">
        <MudStack Spacing="1">
            <!--1-->

            <GenericMudSelect T="string"
                              Variant="Variant.Outlined"
                              @bind-BoundValue="@CouponValue"
                              Field="BasketPricesInfo!.Coupon"
                              Items="Coupons?.Select(item => item?.Value).ToList()" />

            <!--2-->

            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Label="@BasketPricesInfo.FreeShippingAmountThreshold?.Name"
                          Style="font-size: 13px; height:30px;"
                          Variant="Variant.Outlined"
                          ReadOnly="true"
                          Value="@FreeShippingAmountThresholdValue">
            </MudTextField>

            <!--3-->

            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo.GiftAmountThreshold?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@GiftAmountThresholdValue">
            </MudTextField>


            <!--4-->

            <MudTextField Margin="Margin.Dense"
                          T="string"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo.ProductsInfo?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@ProductsInfoValue">
            </MudTextField>

        </MudStack>
    </MudItem>
    <!--Column2-->
    <MudItem xs="3">
        <MudStack Spacing="2">
            <!--1-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined" FullWidth="true"
                          Label="@BasketPricesInfo!.ProductsNetAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@ProductsNetAmountValue">
            </MudTextField>

            <!--2-->
            <MudGrid>
                <MudItem xs="6">
                    <GenericMudSelect T="string"
                                      Variant="Variant.Outlined"
                                      @bind-BoundValue="@WarrantyCostOptionsValue"
                                      Field="BasketPricesInfo?.WarrantyCostOption"
                                      Items="WarrantyCostOptions?.Select(item => item?.Value).ToList()" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="decimal?"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo!.WarrantyCostAmount?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  Value="@WarrantyCostAmountValue"></MudTextField>
                </MudItem>
            </MudGrid>
            <!--3-->
            <MudGrid>
                <MudItem xs="6">
                    <GenericMudSelect T="string"
                                      Variant="Variant.Outlined"
                                      @bind-BoundValue="@ShippingCostOptionValue"
                                      Field="BasketPricesInfo?.ShippingCostOption"
                                      Items="ShippingCostOptions?.Select(item => item?.Value).ToList()" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="decimal?"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo!.ShippingCostAmount?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  @bind-Value="@ShippingCostAmountValue"></MudTextField>
                </MudItem>
            </MudGrid>

            <!--6-->
            <MudTextField Margin="Margin.Dense"
                          T="string"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo!.LogisticInfo?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@LogisticInfoValue">
            </MudTextField>
        </MudStack>
    </MudItem>
    <!--Column3-->
    <MudItem xs="3">
        <MudStack Spacing="2">
            <!--1-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo?.TotalNetAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@TotalNetAmountValue">
            </MudTextField>
            <!--2-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo?.VatAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@VatAmountValue">
            </MudTextField>
            <!--3-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo?.TotalGrossAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@TotalGrossAmountValue">
            </MudTextField>
            <!--4-->
            <MudGrid>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="string"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo?.FirstDeliveryDate?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  Value="@FirstDeliveryDateValue" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="string"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo?.LastDeliveryDate?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  Value="@LastDeliveryDateValue" />
                </MudItem>
            </MudGrid>
        </MudStack>
    </MudItem>
    <!--Column4-->
    <MudItem xs="3">
        <MudStack Spacing="2">
            <!--1-->
            @if (!FieldUtility.IsHidden(BasketPricesInfo?.OrderDiscountRate))
            {
                <MudTextField Margin="Margin.Dense"
                              T="int?"
                              Typo="Typo.body2"
                              Variant="Variant.Outlined"
                              FullWidth="true"
                              Label="@BasketPricesInfo?.OrderDiscountRate?.Name"
                              Style="font-size: 13px; height:30px;"
                              Required="@FieldUtility.IsRequired(BasketPricesInfo?.OrderDiscountRate)"
                              ReadOnly="@FieldUtility.IsReadOnly(BasketPricesInfo?.OrderDiscountRate)"
                              @bind-Value="OrderDiscountRateValue">
                </MudTextField>
            }

            <!--3-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo?.DiscountAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@DiscountAmountValue">
            </MudTextField>

            <!--4-->
            <MudTextField Margin="Margin.Dense"
                          T="decimal?"
                          Typo="Typo.body2"
                          Variant="Variant.Outlined"
                          Label="@BasketPricesInfo?.AdditionalSalesAmount?.Name"
                          Style="font-size: 13px; height:30px;"
                          ReadOnly="true"
                          Value="@AdditionalSalesAmountValue">
            </MudTextField>

            <!--5-->
            <MudGrid>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="decimal?"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo?.TotalWeight?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  Value="@TotalWeightValue" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Margin="Margin.Dense"
                                  T="decimal?"
                                  Typo="Typo.body2"
                                  Variant="Variant.Outlined"
                                  Label="@BasketPricesInfo?.TotalVolume?.Name"
                                  Style="font-size: 13px; height:30px;"
                                  ReadOnly="true"
                                  Value="@TotalVolumeValue" />
                </MudItem>
            </MudGrid>
        </MudStack>
    </MudItem>
</MudGrid>

