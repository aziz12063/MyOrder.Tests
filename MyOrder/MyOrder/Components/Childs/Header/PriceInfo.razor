@using MyOrder.Store.PricesInfoUseCase

@inherits BaseFluxorComponent<PricesInfoState, FetchPricesInfoAction>


<MudContainer Class="pa-0">
    <MudStack Spacing="5">
        <MudText Typo="Typo.body2" Color="Color.Secondary">Totaus et prix</MudText>
        @if(!@IsLoading)
        {
        <MudGrid Spacing="1" Justify="Justify.Center">
            <!--Column1-->
            <MudItem xs="3">
                <!--1-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.body2">Code Action</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.Coupon)">
                            <MudSelect Margin="Margin.Dense"
                                       T="string"
                                       Variant="Variant.Outlined"
                                       FullWidth="true"
                                       Required="@IsRequired(BasketPricesInfo?.Coupon)"
                                       ReadOnly="@IsReadOnly(BasketPricesInfo?.Coupon)"
                                       @bind-Value="@CouponValue">
                                @foreach (var item in Coupons )
                                {
                                    <MudSelectItem T="string" Value="@item.Value">@item.Value</MudSelectItem>
                                }
                            </MudSelect>
                        </MudHidden>
                    </MudItem>
                </MudGrid>
                <!--2-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText>Diff Franco</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" 
                                      T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.FreeShippingAmountThreshold.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
                <!--3-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText>Diff KDO</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Disabled="false"
                                      Value="BasketPricesInfo.GiftAmountThreshold.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
                <!--4-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Dispo.Marchandise</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="string"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.ProductsInfo.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
            </MudItem>

            <!--Column2-->
            <MudItem xs="3">
                <!--1-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Marchandise HT</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" FullWidth="true"
                                      Value="BasketPricesInfo.ProductsNetAmount.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
                <!--2 et 3-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.WarrantyCostOption)">
                            <MudTextField Margin="Margin.Dense" T="string"
                                          Variant="Variant.Outlined" Width="200px"
                                          Required="@IsRequired(BasketPricesInfo?.WarrantyCostOption)"
                                          ReadOnly="@IsReadOnly(BasketPricesInfo?.WarrantyCostOption)"
                                          @bind-Value="WarrantyCostOptionsValue">
                                @foreach (var item in WarrantyCostOptions)
                                {
                                    <MudSelectItem T="string" Value="@item.Value">@item.Value</MudSelectItem>
                                }

                            </MudTextField>
                        </MudHidden>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.WarrantyCostAmount.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--4 et 5-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.ShippingCostOption)">
                            <MudTextField Margin="Margin.Dense" T="string"
                                          Variant="Variant.Outlined" Width="200px"
                                          Required="@IsRequired(BasketPricesInfo?.ShippingCostOption)"
                                          ReadOnly="@IsReadOnly(BasketPricesInfo?.ShippingCostOption)"
                                          @bind-Value="ShippingCostOptionValue">
                                @foreach (var item in ShippingCostOptions)
                                {
                                    <MudSelectItem T="string" Value="@item.Value">@item.Value</MudSelectItem>
                                }
                            </MudTextField>
                        </MudHidden>
                    </MudItem>
                    <MudItem xs="8">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.ShippingCostAmount)">
                            <MudTextField Margin="Margin.Dense" T="decimal"
                                          Variant="Variant.Outlined" Width="200px"
                                          Required="@IsRequired(BasketPricesInfo?.ShippingCostAmount)"
                                          ReadOnly="@IsReadOnly(BasketPricesInfo?.ShippingCostAmount)"
                                          @bind-Value="ShippingCostAmountValue">
                            </MudTextField>
                        </MudHidden>
                    </MudItem>
                </MudGrid>

                <!--6-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Entrepot de livraison</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="string"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.LogisticInfo.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
            </MudItem>
            <!--Column3-->
            <MudItem xs="3">
                <!--1-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Montant total HT</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" FullWidth="true"
                                      Value="BasketPricesInfo.TotalNetAmount.Value"> </MudTextField>
                    </MudItem>
                </MudGrid>
                <!--2-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Montant TVA</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.VatAmount.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
                <!--3-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Montant TTC</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.TotalGrossAmount.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--4-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">1èr Date de livraison</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="string"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.FirstDeliveryDate.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--5-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Date de livraison rapide</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="string"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.LastDeliveryDate.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
            </MudItem>
            <!--Column4-->
            <MudItem xs="3">
                <!--1-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Remise Cde(%)</MudText>
                    </MudItem>
                    <MudItem xs="3">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.OrderDiscountRate)">
                            <MudTextField Margin="Margin.Dense" T="int"
                                          Variant="Variant.Outlined" FullWidth="true"
                                          Required="@IsRequired(BasketPricesInfo?.OrderDiscountRate)"
                                          ReadOnly="@IsReadOnly(BasketPricesInfo?.OrderDiscountRate)"
                                          @bind-Value="OrderDiscountRateValue">
                            </MudTextField>
                        </MudHidden>
                    </MudItem>

                    <MudItem xs="4">
                        <MudHidden bind-Hidden="@IsHidden(BasketPricesInfo?.OrderLastColumnDiscount)">
                            <MudCheckBox Label="label"
                                         Required="@IsRequired(BasketPricesInfo?.OrderLastColumnDiscount)"
                                         ReadOnly="@IsReadOnly(BasketPricesInfo?.OrderLastColumnDiscount)"
                                         LabelPosition="LabelPosition.Start"
                                         @bind-Value="OrderLastColumnDiscountValue">
                            </MudCheckBox>
                        </MudHidden>
                    </MudItem>
                </MudGrid>

                <!--3-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Remise Cde(E)</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.DiscountAmount.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--4-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText Typo="Typo.caption">Ventes add(E)</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.AdditionalSalesAmount.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--5-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText>Poids</MudText>
                    </MudItem>
                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.TotalWeight.Value"></MudTextField>
                    </MudItem>
                </MudGrid>
                <!--6-->
                <!--i think this one will hold the 5 and the 6
                with this string as  bind: TotalVolumeAndWeight, then delete the 5-->
                <MudGrid>
                    <MudItem xs="4">
                        <MudText>Volume</MudText>
                    </MudItem>

                    <MudItem xs="8">
                        <MudTextField Margin="Margin.Dense" T="decimal"
                                      Variant="Variant.Outlined" Width="200px"
                                      Value="BasketPricesInfo.TotalVolume.Value">
                        </MudTextField>
                    </MudItem>
                </MudGrid>
            </MudItem>
            </MudGrid>
        }
        else
        {
            <MudText Typo="Typo.body2" Color="Color.Secondary">IsLoading</MudText>
        }
        

    </MudStack>
</MudContainer>
