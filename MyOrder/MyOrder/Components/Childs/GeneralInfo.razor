@using MyOrder.Components.Childs.Menu
@using MyOrder.Store.GeneralInfoUseCase
@inherits MyOrder.Components.Common.FluxorComponentBase<GeneralInfoState, FetchGeneralInfoAction>

<MudImage Src="@_companyLogoSrc" Alt="Raja Group" Class="logo" />

@if (GlobalOperationsState.Value.IsAppGloballyFaulted)
    return;

@if (State.Value.IsLoading)
{
    <MudStack Class="pl-8" Spacing="2">
        <MudSkeleton Animation="Animation.Pulse" SkeletonType="SkeletonType.Rectangle" Width="175px" Height="24px" Style="background-color: rgb(240 248 255 / 11%)" />
        <MudSkeleton Animation="Animation.Pulse" SkeletonType="SkeletonType.Rectangle" Width="250px" Height="20px" Style="background-color: rgb(240 248 255 / 11%)" />
    </MudStack>
    return;
}

<FetchActionTypeCascadingValue FetchActionTypeValue="FetchActionType">
    <PageTitle>@State?.Value?.GeneralInfo?.PageTitle</PageTitle>
    <MudStack Class="pl-8" Spacing="1">
        <MudText Typo="Typo.h5" Class="d-flex">
            <b>@BasketGeneralInfo!.OrderType @BasketGeneralInfo!.OrderId [@BasketGeneralInfo!.OrderStatus]</b>
        </MudText>
        <MudText Typo="Typo.subtitle2" Class="d-flex" Style="color:#EBEBEB;">
            <em>@BasketGeneralInfo!.OrderDate?.ToString("g")</em> &nbsp; - @BasketGeneralInfo!.SalesResponsible
        </MudText>
    </MudStack>
    <MudSpacer />
    <Menu GeneralInfo="BasketGeneralInfo" />
</FetchActionTypeCascadingValue>